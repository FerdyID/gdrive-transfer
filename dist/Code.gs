function getFolders(e,t,r,n){var o,i,a,g,s,l=!1,d=342e3,p=(new Date).getTime();for(o=0===n.length?DriveApp.getFolderById(e).addEditor(r).getFolders():DriveApp.continueFolderIterator(n.pop());o.hasNext()&&!l;)i=o.next(),a=i.getFolders(),s=(new Date).getTime(),l=s-p>=d,g=[i.getId(),i.getName()],t.push(g),a.hasNext()&&n.push(a.getContinuationToken()),!o.hasNext()&&n.length>0&&(o=DriveApp.continueFolderIterator(n.shift()));return l&&n.push(o.getContinuationToken()),[t,n]}function getOAuthToken(){return ScriptApp.getOAuthToken()}function doGet(e){var t=HtmlService.createTemplateFromFile("Index");return t.thisForm=e.parameter.thisForm,t.evaluate().setTitle("Transfer ownership for a Google Drive folder").setSandboxMode(HtmlService.SandboxMode.IFRAME)}function getFullPath(e,t){var r=DriveApp.getFolderById(t).getParents(),n=r.next();return"My Drive"!=n.getName()&&(e=n.getName()+" > "+e,n.getParents().hasNext()&&(e=getFullPath(e,n.getId()))),e}function transferFolder(e,t){var r=DriveApp.getFolderById(e),n=Session.getActiveUser().getEmail();r.getOwner().getEmail()==n&&r.setOwner(t)}function transferFiles(e,t){for(var r=DriveApp.getFolderById(e),n=r.getFiles(),o=Session.getActiveUser().getEmail();n.hasNext();){var i=n.next();i.getOwner().getEmail()==o&&i.setOwner(t)}}