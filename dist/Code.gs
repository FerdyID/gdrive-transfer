function getFolders(e,t,r){var a=DriveApp.getFolderById(e);a.addEditor(r);for(var n=a.getFolders();n.hasNext();){var o=n.next(),g=getFullPath("",o.getId());g+=o.getName();var i=[];i.push(o.getId()),i.push(g),t.push(i),o.getFolders().hasNext()&&getFolders(o.getId(),t,r)}return t}function getOAuthToken(){return ScriptApp.getOAuthToken()}function doGet(e){var t=HtmlService.createTemplateFromFile("Index");return t.thisForm=e.parameter.thisForm,t.evaluate().setTitle("Transfer ownership for a Google Drive folder").setSandboxMode(HtmlService.SandboxMode.IFRAME)}function getFullPath(e,t){var r=DriveApp.getFolderById(t).getParents(),a=r.next();return"My Drive"!=a.getName()&&(e=a.getName()+" > "+e,a.getParents().hasNext()&&(e=getFullPath(e,a.getId()))),e}function transferFolder(e,t){var r=DriveApp.getFolderById(e),a=Session.getActiveUser().getEmail();r.getOwner().getEmail()==a&&r.setOwner(t)}function transferFiles(e,t){for(var r=DriveApp.getFolderById(e),a=r.getFiles(),n=Session.getActiveUser().getEmail();a.hasNext();){var o=a.next();o.getOwner().getEmail()==n&&o.setOwner(t)}}