function getFolders(e,t,r,o){var n,i,g,a,l,s=!1,d=342e3,p=(new Date).getTime();for(0===o.length?(Logger.log("Getting iterator from folderId"),n=DriveApp.getFolderById(e).addEditor(r).getFolders()):(Logger.log("Getting iterator from iterator"),n=DriveApp.continueFolderIterator(o.pop()));n.hasNext()&&!s;)i=n.next(),Logger.log("nextChild = "+i),g=i.getFolders(),l=(new Date).getTime(),s=l-p>=d,a=[i.getId(),i.getName()],t.push(a),g.hasNext()&&o.push(g.getContinuationToken()),!n.hasNext()&&o.length>0&&(n=DriveApp.continueFolderIterator(o.shift()));return s&&o.push(n.getContinuationToken()),[t,o]}function getOAuthToken(){return ScriptApp.getOAuthToken()}function doGet(e){var t=HtmlService.createTemplateFromFile("Index");return t.thisForm=e.parameter.thisForm,t.evaluate().setTitle("Transfer ownership for a Google Drive folder").setSandboxMode(HtmlService.SandboxMode.IFRAME)}function getFullPath(e,t){var r=DriveApp.getFolderById(t).getParents(),o=r.next();return"My Drive"!=o.getName()&&(e=o.getName()+" > "+e,o.getParents().hasNext()&&(e=getFullPath(e,o.getId()))),e}function transferFolder(e,t){var r=DriveApp.getFolderById(e),o=Session.getActiveUser().getEmail();r.getOwner().getEmail()==o&&r.setOwner(t)}function transferFiles(e,t){for(var r=DriveApp.getFolderById(e),o=r.getFiles(),n=Session.getActiveUser().getEmail();o.hasNext();){var i=o.next();i.getOwner().getEmail()==n&&i.setOwner(t)}}